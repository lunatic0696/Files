package grupoD.associapp.modelo;

public abstract class GerenciarComunidade {
	
	public static Comunidade[] comunidades;
	public final static int MAX_COMUNIDADES = 10;
	public static int contadorComunidades = 0;
	
	public GerenciarComunidade(){
		comunidades = new Comunidade[MAX_COMUNIDADES];
		for (int i = 0; i < MAX_COMUNIDADES; i++) {
			comunidades[i] = new Comunidade();
		}
	}

	public String adquirirCodigo(Comunidade comunidade){
		String str = "";
		for (int i = 0; i < 2; i++) {
			str += comunidade.getCidade().toUpperCase().charAt(i);
		}
		str += contadorComunidades;
		contadorComunidades++;
		return str;
	}
	
	public void adicionarRecurso(Comunidade comunidade, Recurso recurso){
		comunidade.getRecursos().add(recurso);
	}
	
	public String obterRecursos(Comunidade comunidade){
		String listaRecursos = "";
		for (int i = 0; i < comunidade.getRecursos().size(); i++) {
			listaRecursos += comunidade.getRecursos().get(i).getNome() + "// Situação: " + comunidade.getRecursos().get(i).getGrauSituacao() + "\n";
		}
		return listaRecursos;
	}
	
	public void adicionarFamilia(Comunidade comunidade, Familia familia){
		comunidade.getFamilias().add(familia);
	}
	
	public String buscar(String str){
		String resultado = "";
		
		for (Comunidade c : comunidades) {
			if(c.getNome() == str){
				resultado += c;
			}
		}
		
		return resultado;
	}
	
	public String mostrarTudo(){
		String resultado = "";
		for (Comunidade comunidade : comunidades) {
			if(comunidade.getNome() != null){
				resultado += comunidade.toString() + "\n";
			}
		}
		return resultado;
	}
	
}
